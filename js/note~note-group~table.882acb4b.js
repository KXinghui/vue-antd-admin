(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["note~note-group~table"],{"4ce4":function(e,t,n){var o=n("d49f");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=n("499e").default;a("2e567af2",o,!0,{sourceMap:!1,shadowMode:!1})},"70f7":function(e,t,n){"use strict";n("4ce4")},a434:function(e,t,n){"use strict";var o=n("23e7"),a=n("23cb"),i=n("a691"),l=n("50c4"),s=n("7b0b"),c=n("65f0"),r=n("8418"),u=n("1dde"),d=n("ae40"),f=u("splice"),h=d("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,b=Math.min,p=9007199254740991,w="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!f||!h},{splice:function(e,t){var n,o,u,d,f,h,g=s(this),x=l(g.length),y=a(e,x),v=arguments.length;if(0===v?n=o=0:1===v?(n=0,o=x-y):(n=v-2,o=b(m(i(t),0),x-y)),x+n-o>p)throw TypeError(w);for(u=c(g,o),d=0;d<o;d++)f=y+d,f in g&&r(u,d,g[f]);if(u.length=o,n<o){for(d=y;d<x-o;d++)f=d+o,h=d+n,f in g?g[h]=g[f]:delete g[h];for(d=x;d>x-o+n;d--)delete g[d-1]}else if(n>o)for(d=x-o;d>y;d--)f=d+o-1,h=d+n-1,f in g?g[h]=g[f]:delete g[h];for(d=0;d<n;d++)g[d+y]=arguments[d+2];return g.length=x-o+n,u}})},d49f:function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,".base-table-wrap{background-color:#fff}.base-table-wrap .base-table .resize-table-th{position:relative}.base-table-wrap .base-table .resize-table-th .table-draggable-handle{position:absolute;height:100%!important;left:auto!important;right:-5px;transform:none!important;bottom:0;cursor:col-resize;touch-action:none}.base-table-wrap .base-table td img{width:100%}.base-table-form-wrap,.base-table-header-wrap{border:1px solid red;display:flex;flex-direction:row;justify-content:space-between;align-content:center}.base-table-form-wrap{margin:1rem 0 2rem}",""]),e.exports=t},e934:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:e.baseTableRef,staticClass:"base-table-wrap",attrs:{id:e.baseTableRef}},[n("div",{staticClass:"base-table-form-wrap"},[e._t("tableForm")],2),n("div",{staticClass:"base-table-header-wrap"},[e._t("tableHeader"),n("a-button",{directives:[{name:"show",rawName:"v-show",value:e.isShowBatch,expression:"isShowBatch"}],attrs:{type:"primary"},on:{click:e.ableBatchOp}},[n("icon",{attrs:{icon:"IconFont_batch-op"}}),e._v(e._s(e.isBatch?"取消批量":"批量"))],1)],2),n("a-table",{directives:[{name:"viewer",rawName:"v-viewer",value:{movable:!0,filter:function(){return!e.isBatch}},expression:"{\n      movable: true,\n      filter: function() {\n        return !isBatch;\n      }\n    }"}],staticClass:"base-table",attrs:{scroll:{x:!0,scrollToFirstRowOnChange:!1},bordered:"",loading:e.loading,"row-key":e.rowKey,columns:e.columns,"data-source":e.data,pagination:e.pagination,"row-selection":e.rowSelection,"custom-row":e.customRow,components:e.tableComponents},scopedSlots:e._u([e._l(e.columns,(function(t){return{key:t.scopedSlots?t.scopedSlots.customRender:"",fn:function(n,o){return[e._t(t.scopedSlots?t.scopedSlots.customRender:"",[e._v(e._s(t.scopedSlots?t.scopedSlots.customRender:""))],null,o)]}}}))],null,!0)},[n("div",{staticClass:"base-table-title-wrap",attrs:{slot:"title"},slot:"title"},[e._t("tableTitle")],2),n("div",{staticClass:"base-table-footer-wrap",attrs:{slot:"footer"},slot:"footer"},[e._t("tableFooter")],2)]),e.contextmenuVisible?n("a-menu",{style:e.contextmenuStyle,attrs:{id:e.contextmenuId}},[e._t("contextmenu",[n("a-menu-item",{key:"1"},[e._v(" 1st menu item ")]),n("a-menu-item",{key:"2"},[e._v(" 2nd menu item ")]),n("a-menu-item",{key:"3"},[e._v(" 3rd menu item ")])])],2):e._e(),n("a-modal",{attrs:{title:"Vertically centered modal dialog",centered:""},on:{ok:function(){return e.settingModalVisible=!1}},model:{value:e.settingModalVisible,callback:function(t){e.settingModalVisible=t},expression:"settingModalVisible"}},[n("a-collapse",{attrs:{accordion:""}},[n("a-collapse-panel",{key:"1",attrs:{header:"This is panel header 1"}},[n("p",[e._v(e._s(e.text))])]),n("a-collapse-panel",{key:"2",attrs:{header:"This is panel header 2",disabled:!1}},[n("p",[e._v(e._s(e.text))])]),n("a-collapse-panel",{key:"3",attrs:{header:"This is panel header 3"}},[n("p",[e._v(e._s(e.text))])])],1)],1)],1)},a=[],i=n("f5c8"),l=n("dbde"),s=void 0,c={tableLayout:"",bordered:!0,childrenColumnName:["children"],columns:[],components:null,dataSource:[],defaultExpandAllRows:!1,defaultExpandedRowKeys:[],expandedRowKeys:[],expandedRowRender:function(e,t,n,o){},expandIcon:function(e,t,n,o){},expandRowByClick:!1,expandIconColumnIndex:0,footer:function(e){},indentSize:10,loading:!1,locale:null,pagination:{},rowClassName:function(e,t){},rowKey:"id",rowSelection:null,scroll:!0,showHeader:!0,size:"default",title:function(e){},customHeaderRow:function(e,t){},customRow:function(e){return{on:{click:function(t){s.clickRow(t,e)},dblclick:function(t){s.dblclickRow(t,e)},contextmenu:function(t){s.contextmenuRow(t,e)}}}},transformCellText:function(e){e.text,e.column,e.record,e.index}},r={name:"BaseTable",mixins:[i["a"]],components:{BsCore:l["a"]},data:function(){return{text:"asdfasdf",table:c}},methods:{},mounted:function(){console.log()}},u=r,d=(n("70f7"),n("2877")),f=Object(d["a"])(u,o,a,!1,null,null,null);t["default"]=f.exports},f5c8:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("99af"),n("7db0"),n("caad"),n("c975"),n("a434");var o=n("2909"),a=n("5530");n("a4d3"),n("b64b");function i(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}function l(e,t){if(null==e)return{};var n,o,a=i(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s={data:function(){var e=this;return{baseTableRef:"baseTable".concat(this._uid),settingModalVisible:!1,contextmenuId:"contextmenu".concat(this._uid),contextmenuVisible:!1,contextmenuStyle:{position:"absolute",top:"0",left:"0",zIndex:1,borderRadius:"5px",border:"1px solid #eee"},table:{rowKey:"id"},customRow:function(t){return{props:{},on:{click:function(n){e.clickRow(n,t)},dblclick:function(n){e.dblclickRow(n,t)},contextmenu:function(n){e.contextmenuRow(n,t)},mouseenter:function(n){e.mouseenterRow(n,t)},mouseleave:function(n){e.mouseleaveRow(n,t)}}}}}},props:{isScrollRefresh:{typoe:[Boolean],default:!1,requrire:!1},loading:{typoe:[Boolean],default:!1,requrire:!1},isBatch:{typoe:[Boolean],default:!1,requrire:!1},isShowBatch:{typoe:[Boolean],default:!0,requrire:!1},rowKey:{typoe:[String],default:"id",requrire:!1},rowSelectionType:{typoe:[String],default:"checkbox",requrire:!1,validator:function(e){return["checkbox","radio",""].includes(e)}},selectedRowKeys:{typoe:[Array],default:function(){return[]},requrire:!1},data:{typoe:[Array],default:function(){return[]},requrire:!1},columns:{typoe:[Array],default:function(){return[]},requrire:!1},pagination:{typoe:[Object],default:function(){var e=this;return{total:0,pageSize:NaN,disabled:!1,hideOnSinglePage:!1,pageSizeOptions:["5","10","20","30","40"],showLessItems:!1,showQuickJumper:!0,showSizeChanger:!0,simple:!1,onChange:function(t,n){e.$emit("changePage",t,n)},onShowSizeChange:function(t,n){e.$emit("changePage",t,n)}}},requrire:!1}},computed:{tableComponents:function(){var e=this;return{header:{cell:function(t,n,i){var s=n.key,c=l(n,["key"]),r=e.columns.find((function(e){var t=e.dataIndex||e.key;return e.isResize&&t===s}));if(!r||!r.width)return t("th",Object(a["a"])({},c),Object(o["a"])(i));var u={key:r.dataIndex||r.key,class:"table-draggable-handle",attrs:{w:10,x:r.width,z:1,axis:"x",draggable:!0,resizable:!1},on:{dragging:function(e){var t=Math.max(e,1);r.minWidth&&r.minWidth>t?r.width=r.minWidth:r.maxWidth&&r.maxWidth<t?r.width=r.maxWidth:r.width=t}}},d=t("vue-draggable-resizable",Object(a["a"])({},u));return t("th",Object(a["a"])(Object(a["a"])({},c),{},{class:"resize-table-th"}),[].concat(Object(o["a"])(i),[d]))}}}},rowSelection:function(){if(!this.isBatch)return null;var e=this;return{columnWidth:"50",fixed:!1,hideDefaultSelections:!1,type:this.rowSelectionType,selectedRowKeys:this.selectedRowKeys,onChange:function(t,n){e.$emit("update:selectedRowKeys",t)},onSelect:function(e,t,n,o){},onSelectAll:function(e,t,n){},onSelectInvert:function(e){}}}},methods:{ableBatchOp:function(){this.$emit("update:isBatch",!this.isBatch)},customRowFunc:function(e,t){this.$emit("".concat(e.type,'"'),t)},clickRow:function(e,t){if(this.customRowFunc(e,t),this.isBatch){var n=t[this.table.rowKey],a=Object(o["a"])(this.selectedRowKeys),i=a.indexOf(n),l=-1!=i;"radio"==this.rowSelectionType?a=l?[]:[n]:l?a.splice(i,1):a.push(n),this.$emit("update:selectedRowKeys",a)}},dblclickRow:function(e,t){this.customRowFunc(e,t)},contextmenuRow:function(e,t){this.customRowFunc(e,t);var n=document.getElementById(this.contextmenuId);this.contextmenuVisible=!0;var o=n?n.clientWidth||n.offsetWidth:0,a=n?n.clientHeight||n.offsetHeight:0;e.preventDefault();var i=e.clientX,l=e.clientY;console.log(document.getElementById(this.baseTableRef));var s=this.$refs[this.baseTableRef].offsetWidth,c=this.$refs[this.baseTableRef].offsetHeight,r=window.screen.availWidth||window.innerWidth||document.documentElement.clientWidth,u=window.screen.availHeight||window.innerHeight||document.documentElement.clientHeight;console.log(s+"======"+c),console.log(r+"======"+u);var d=i-(r-s),f=l*(c/u);this.contextmenuStyle.top=(f+a>c?f-a:f)+"px",this.contextmenuStyle.left=(d+o>s?d-o:d)+"px",console.log(d+"======"+f),document.addEventListener("click",this.cancelContextmenu),console.log(this.contextmenuStyle.top),console.log(this.contextmenuStyle.left)},cancelContextmenu:function(){this.contextmenuVisible=!1,document.body.removeEventListener("click",this.cancelContextmenu)},mouseenterRow:function(e,t){this.customRowFunc(e,t)},mouseleaveRow:function(e,t){this.customRowFunc(e,t)}},watch:{data:function(){this.isScrollRefresh=!0}},mounted:function(){console.log("columns "+JSON.stringify(this.columns))}}}}]);